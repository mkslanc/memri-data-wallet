.inbox {
    name: "inbox"
    title: "Inbox"
    defaultRenderer: scene

    [renderer = scene] {
        pages: {
             inboxChannels: "inbox-channels"
             inboxData: ""
        }

    }

}

.inbox-channels {
    name: "inbox"
    title: "Inbox"
    defaultRenderer: list
    cols: 4
    showTopBar: true
    tobBarColor: "#FFFFFF"
    showEditCode: false

    emptyResult: {
        VStack {
            padding: 0 30 50 30
            alignment: center

            Divider

            Text {
                text: "You have no messages yet."
                font: headline2
                padding: 50 0 20 0
            }
            Button {
                width: 180
                onPress: openView {
                    viewName: "inbox-channels"
                    clearStack: true
                    inheritDatasource: false
                }

                HStack {
                    padding: 7 0 7 0

                    Image {
                        color: #FE570F
                        systemName: "refresh"
                        minHeight: 20
                        maxHeight: 20
                        minWidth: 20
                        maxWidth: 20
                    }

                    Text {
                        text: "Reload"
                        font: 12 regular
                        color: #FE570F
                    }
                }
            }

            Button {
                width: 180
                onPress: openView {
                    viewName: "allPlugins"
                    clearStack: true
                    inheritDatasource: false
                }

                HStack {
                    padding: 7 0 7 0

                    Image {
                        color: #FE570F
                        bundleImage: "zap"
                        isVector: true
                        sizingMode: fill
                        minHeight: 20
                        maxHeight: 20
                        minWidth: 20
                        maxWidth: 20
                    }

                    Text {
                        text: "Start importing"
                        font: 12 regular
                        color: #FE570F
                    }
                }
            }
        }
    }

    [datasource = pod] {
        query: MessageChannel
        sort: {
            targetType: "Message"
            edgeSource: {
                name: messageChannel
                sortProperty: dateSent
                sortAscending: false
            }
        }
    }

    filterButtons: [
        openView {
            viewName: "inbox-channels"
            title: "all"
            clearStack: true
            inheritDatasource: false
            color: "#FE570F"
        },
        filter {
            color: "#FE570F"
            title: "whatsapp"
            clearStack: true
            datasource: {
                query: MessageChannel
                sort: {
                    targetType: "Message"
                    edgeSource: {
                        name: messageChannel
                        sortProperty: dateSent
                        sortAscending: false
                    }
                }
                filter: {
                    properties: {
                        starred: true
                    }
                }
            }
        },
        ]

        additional: {
            Button {
                onPress: openView {
                    viewName: "allPosts"
                    clearStack: true
                    inheritDatasource: false
                    viewArguments {

                    }
                }

                HStack {
                    alignment: left
                    padding: 13 0 7 0

                    Image {
                        bundleImage: "plus"
                        isVector: true
                        sizingMode: fill
                        minHeight: 30
                        maxHeight: 30
                        minWidth: 30
                        maxWidth: 30
                        cornerRadius: 50
                        color: #FE570F
                    }

                    Text {
                        text: "Compose"
                        font: 12 regular
                        color: #FE570F
                    }
                }
            }
        }
}
